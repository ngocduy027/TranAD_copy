TranAD (synthetic + TranAD) – Ubuntu Setup

Prerequisites
- Python 3.9+ installed (python3 --version)
- Git/zip to transfer this folder to the machine

1) Create and activate a virtual environment
- cd /path/to/TranAD_copy
- python3 -m venv .venv
- source .venv/bin/activate
- python -m pip install -U pip setuptools wheel

2) Install PyTorch
Choose ONE of the following:
- CPU only:
  pip install torch
- NVIDIA GPU (CUDA 12.1):
  pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121

3) Install required Python packages
- pip install -r requirements.txt

4) (Headless servers) Avoid display issues
- export MPLBACKEND=Agg

5) Run on synthetic data with TranAD
- python main.py --model TranAD --dataset synthetic --retrain

Outputs
- Checkpoints: checkpoints/TranAD_synthetic/model.ckpt
- Plots: plots/TranAD_synthetic/

Optional extras (only if needed)
- Graph models (GDN, MTAD_GAT): pip install dgl
- MBA dataset (Excel): pip install xlrd==1.2.0

Troubleshooting
- If matplotlib complains about display or libGL: sudo apt-get update && sudo apt-get install -y libgl1 libglib2.0-0
- If SciPy build errors occur, ensure pip is recent (see step 1). On older environments you may need: pip install "scipy<1.12"


6) Transfer datasets with rclone (optional)
- Why: Move large folders like `processed/` or `data/` between your machine and server without committing them to Git.

- Install rclone (Ubuntu)
  - sudo apt-get update && sudo apt-get install -y rclone
  - If repo version is old: curl -fsSL https://rclone.org/install.sh | sudo bash

- (Optional) Install rclone (Windows)
  - winget install rclone.rclone  (or)  choco install rclone

- Configure a Google Drive remote
  - rclone config
  - n (New remote) -> name: drive
  - Storage: drive
  - Scope: 1 (Full access) or 2 (Files created by rclone). 1 is simplest.
  - Edit advanced config? n
  - Use auto config? n (on headless servers). Open the shown URL on your local machine, authorize, paste the verification code back into the terminal.
  - Configure as a team drive? n (unless you use Shared Drives)
  - y to save.

- Verify access
  - rclone ls drive:        # should list files, or be empty on first use
  - rclone mkdir drive:tranad

- Upload processed data to Drive
  - rclone copy processed/synthetic drive:tranad/processed/synthetic \
      --progress --transfers 8 --checkers 16 --fast-list

- Download processed data from Drive to this machine
  - rclone copy drive:tranad/processed/synthetic processed/synthetic \
      --progress --transfers 8 --checkers 16 --fast-list

- Notes
  - Commands are resumable. Re-run to continue partial transfers.
  - Replace `processed/synthetic` with any folder (e.g., `data/SMD`).
  - rclone config is stored at ~/.config/rclone/rclone.conf (do not commit this file).

- (Alternative) Configure an S3 remote
  - rclone config
  - n -> name: s3
  - Storage: s3
  - Provider: 1 (Amazon S3) [or your provider]
  - Enter AWS Access Key ID / Secret Access Key (or choose IAM role if on EC2)
  - Region: your region (e.g., us-east-1). Endpoint: leave empty for AWS.
  - Save.
  - Upload:   rclone copy processed/synthetic s3:your-bucket/processed/synthetic --progress
  - Download: rclone copy s3:your-bucket/processed/synthetic processed/synthetic --progress
